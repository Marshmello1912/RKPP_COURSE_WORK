# Сервер

Данное приложение представляет собой сервер, который принимает и обрабатывает запросы от клиентского приложения. Запросы обрабатываются по принципу REST-API.

Запросы

- **server:port/api**
    - **/user**
        
        - **(POST) /register:** принимает в теле запроса данные о пользователе (например, логин, пароль) и регистрирует его в системе.
        - **(POST) /login:** принимает в теле запроса данные о пользователе (логин и пароль) и возвращает JWT-токен для авторизации в приложении.
    - **/pet**
        
        - **(POST) /choose:** принимает в заголовке `Authorization` JWT-токен, а в теле запроса данные о выборе питомца (имя и вид). Создаёт нового питомца для пользователя и возвращает статус выполнения операции.
        - **(GET) /status:** принимает в заголовке `Authorization` JWT-токен. Возвращает текущий статус питомца пользователя (например, уровень счастья, сытости, энергии и др.).
    - **/pet/action**
        
        - **(POST) /play:** принимает в заголовке `Authorization` JWT-токен. Выполняет действие "играть с питомцем" и обновляет его состояние (например, увеличивает уровень счастья). Возвращает обновлённые данные питомца.
        - **(POST) /feed:** принимает в заголовке `Authorization` JWT-токен. Выполняет действие "накормить питомца" и обновляет его состояние (например, увеличивает уровень сытости). Возвращает обновлённые данные питомца.
        - **(POST) /walk:** принимает в заголовке `Authorization` JWT-токен. Выполняет действие "выгулять питомца" и обновляет его состояние (например, увеличивает уровень счастья или уменьшает усталость). Возвращает обновлённые данные питомца.
        - **(POST) /sleep:** принимает в заголовке `Authorization` JWT-токен. Выполняет действие "уложить питомца спать" и обновляет его состояние (например, увеличивает уровень энергии). Возвращает обновлённые данные питомца.
          
#### **Безопасность**

Все запросы требуют JWT-токен в заголовке `Authorization`, который расшифровывается с помощью класса `JWTUtil`. На основе токена система определяет пользователя, выполняющего запрос, и связывает действия с его данными.

#### **Ошибки**

Если в процессе выполнения запроса возникают ошибки (например, неверный токен, недопустимый вид питомца, отсутствие питомца у пользователя), контроллеры возвращают соответствующий HTTP-статус и сообщение об ошибке.

#### **Особенность**

Данные о питомцах обновляются автоматически каждые 5 минут (каждая характеристика уменьшается на случайное значение в определенном диапазоне). Так же сервер при первом запуске проверяет когда последний раз были изменены показатели питомцев, и производит пересчет данных значений в соответствии с прошедшим временем.

---
# Клиент

Клиентская часть приложения представляет собой JavaFX-приложение, которое обеспечивает взаимодействие пользователя с сервером и визуализирует игровой процесс. Пользователь может проходить процесс регистрации, авторизации и выбора питомца, после чего осуществляется переход в основное игровое окно.

Авторизация реализована с использованием JWT-токенов. После успешного входа токен сохраняется на устройстве пользователя, что позволяет не проходить повторную авторизацию при следующем запуске приложения, упрощая доступ к игровому процессу.

Игра включает управление питомцем через различные действия: кормление, прогулки, игры и сон. Каждое из этих действий влияет на основные показатели питомца — голод, счастье, энергию и здоровье. Текущая статистика питомца отображается в режиме реального времени и обновляется моментально после совершения действий пользователя. Для обеспечения актуальности данных клиент синхронизируется с сервером каждые 30 секунд.

Если питомец умирает, игра не заканчивается — пользователь получает возможность выбрать нового питомца и начать игру заново. Этот процесс обеспечивает непрерывность игрового опыта, позволяя игроку продолжать взаимодействие с приложением.

---
# Визуальная состовляющаяя программы

### Экран загрузки 
![Alt text](https://github.com/Marshmello1912/RKPP_COURSE_WORK/blob/main/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Work_Screenshots/Loading_screen.png?raw=true)

### Авторизация
![Alt text](https://github.com/Marshmello1912/RKPP_COURSE_WORK/blob/main/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Work_Screenshots/Login_screen.png?raw=true)

### Регистрация
![Alt text](https://github.com/Marshmello1912/RKPP_COURSE_WORK/blob/main/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Work_Screenshots/Registration_screen.png?raw=true)

### Выбор питомца
![Alt text](https://github.com/Marshmello1912/RKPP_COURSE_WORK/blob/main/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Work_Screenshots/Choose_screen.png?raw=true)

### Основное окно игры
![Alt text](https://github.com/Marshmello1912/RKPP_COURSE_WORK/blob/main/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Work_Screenshots/Game_screen.png?raw=true)
